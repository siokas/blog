<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dead Simple PHP Router | Siokas Apostolos</title>
    <meta name="description" content="Web Developer">
    
    
    <link rel="preload" href="/assets/css/0.styles.3da053f5.css" as="style"><link rel="preload" href="/assets/js/app.16acf519.js" as="script"><link rel="preload" href="/assets/js/7.08c28e0e.js" as="script"><link rel="prefetch" href="/assets/js/2.f928726d.js"><link rel="prefetch" href="/assets/js/3.016cfcdb.js"><link rel="prefetch" href="/assets/js/4.4dfbf852.js"><link rel="prefetch" href="/assets/js/5.325f3bdd.js"><link rel="prefetch" href="/assets/js/6.32c1d606.js"><link rel="prefetch" href="/assets/js/8.53304658.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3da053f5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="container"><div id="head-c"><div class="row"><div class="offset-lg-2 col-lg-8 offset-md-1 col-md-10"><h1 id="blog-name"><a href="/" class="router-link-active">Siokas Apostolos</a></h1> <a href="https://twitter.com/siokas_" target="_blank" class="social"><i class="fa fa-fw fa-twitter"></i></a><a href="https://github.com/siokas" target="_blank" class="social"><i class="fa fa-fw fa-github"></i></a><a href="https://www.linkedin.com/in/siokas" target="_blank" class="social"><i class="fa fa-fw fa-linkedin"></i></a></div></div></div> <div class="row"><div class="offset-lg-2 col-lg-8 offset-md-1 col-md-10"><div><article><p class="post-page-meta">Dec 20, 2017</p> <hr> <div class="content"><img src="/images/router-php.jpg" alt="Simple Router" width="650px"> <h2 id="how-to-write-a-dead-simple-php-router"><a href="#how-to-write-a-dead-simple-php-router" aria-hidden="true" class="header-anchor">#</a> How to write a dead-simple PHP Router</h2> <p>If you are not advanced in coding, you may think that it is difficult to write your own PHP Router for your very simple apps that doesn't need a framework to run. I will show you that it is exactly the opposite. Actually it is extremely easy to write your own PHP Router in 3 simple steps.</p> <h4 id="step-1-create-an-empty-folder-and-an-empty-php-file-inside-the-folder"><a href="#step-1-create-an-empty-folder-and-an-empty-php-file-inside-the-folder" aria-hidden="true" class="header-anchor">#</a> Step 1. Create an empty folder and an empty .php file inside the folder</h4> <p>(You may do it with rights and left clicks and drags and drops and fider or windows things but I prefer the terminal)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> simple-router <span class="token operator">&amp;&amp;</span> <span class="token function">cd</span> simple-router <span class="token operator">&amp;&amp;</span> <span class="token function">touch</span> index.php
</code></pre></div><h4 id="step-2-create-the-router-class-and-configure-the-get-method"><a href="#step-2-create-the-router-class-and-configure-the-get-method" aria-hidden="true" class="header-anchor">#</a> Step 2. Create the Router class and configure the GET method</h4> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">class</span> <span class="token class-name">Router</span><span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$route</span><span class="token punctuation">,</span> <span class="token keyword">callable</span> <span class="token variable">$callable</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$current_path</span> <span class="token operator">=</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'REQUEST_URI'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'REQUEST_URI'</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token single-quoted-string string">'/'</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$route</span> <span class="token operator">==</span> <span class="token variable">$current_path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$callable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>The router methods needs two parameters, the actual <strong>route</strong> that we want to configure and the <strong>function</strong> (callable) that we want to run.
The goal here is <strong>-as you may guessed-</strong> to run the callable function, but in order to call the proper function, we have to get the current path and compare it against the route that we want to run the function. Finally we run the function only in case the current path and the difined route are the same.</p> <h4 id="step-3-create-an-app-that-uses-your-router"><a href="#step-3-create-an-app-that-uses-your-router" aria-hidden="true" class="header-anchor">#</a> Step 3. Create an app that uses your Router</h4> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$route</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">;</span>

<span class="token variable">$route</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token single-quoted-string string">'Hello World'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>At first we have to new up our Router object and from now and then we are able to use our <strong>get</strong> method. Call the get method passing the route that you want and a closure function.</p> <blockquote><p>You can var_dump the server variable in order to find out what options gives you (var_dump($_SERVER))</p></blockquote> <h5 id="congratulations-that-was-your-first-dead-simple-php-router"><a href="#congratulations-that-was-your-first-dead-simple-php-router" aria-hidden="true" class="header-anchor">#</a> <strong>Congratulations! That was your first dead-simple PHP Router!</strong></h5> <blockquote><p>You may run your app from a terminal by starting a php server inside your project folder by entering <code>php -sS localhost:8000</code></p></blockquote> <blockquote><p>Take a look at the hole file in <a href="https://gist.github.com/siokas/10dc267785964332d1ea45daeb41ee33">this gist</a></p></blockquote> <blockquote><p>Also take a look at the <a href="/Simple-JS-Router">Simple Js Router</a></p></blockquote></div></article> <!----> <!----></div></div></div> <center><span id="subtitle"><a href="https://siokas.dev" style="color:#54a0ff;text-decoration:none;">siokas.dev</a></span> <div class="row"><div class="offset-lg-2 col-lg-8 offset-md-1 col-md-10"><p class="small">Â© 2019 <a href="https://siokas.dev">Siokas Apostolos</a> ðŸ’».</p></div></div></center></div></div>
    <script src="/assets/js/app.16acf519.js" defer></script><script src="/assets/js/7.08c28e0e.js" defer></script>
  </body>
</html>
